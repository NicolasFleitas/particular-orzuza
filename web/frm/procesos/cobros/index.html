<!DOCTYPE html>
<html>
<head>
    <title>Particular Orzuza | Cobros</title>
    <link rel="icon" type="image/png" href="../../../favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../../../css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../css/estilos.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div id="confirmar"></div>
    <div id="buscar"></div>
    <div id="panelPrograma" class="panel panel-primary">
        <div class="panel-heading centrado">Cobros | <span id="susuario_usuario"></span></div>
        <div class="panel-body">
            <form id="formPrograma"> 
<!--
               <div class="row" hidden="">
                    <div class="col-sm-1 col-md-1">
                        <span>ID</span>
                    </div>                    
                    <div class="col-sm-2 col-md-1">
                        <input id="id_cobro" name="id_cobro" type="text" class="form-control input-sm" placeholder="Id">
                    </div>
                    <div class="col-md-1">
                        <button id="botonBuscarIdCobro" type="button" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-search"></span></button>
                    </div>
                </div>
-->

<!--
                <div class="row" hidden="">
                    <div class="col-sm-1 col-md-1">
                        <span>Descripcion</span>
                    </div>
                    <div class="col-xs-3 col-sm-2 col-md-3">
                        <input id="nombre_cobro" name="nombre_cobro" type="text" class="form-control input-sm"
                            placeholder="Nombre" onkeypress=" return soloLetras(event)" onkeyup="this.value = this.value.toUpperCase()">
                    </div>
                </div>

-->
                
                    <!-- BOTON PARA CONSULTAR TODAS LAS CUOTAS --> 
                    <div class="row">                 
                        <!--<center> <label>Ver estado </label> </center>-->                       
                        <div class="col-md-2 col-xs-4 col-sm-3">
                            <button id="botonCuota" type="button" class="btn btn-primary btn-sm"><span class="">Consultar cuotas</span></button>
                        </div>
                    <!-- BOTON PARA IMPRIMIR UN REPORTE CON LA CUENTA ACTUAL MOSTRADA EN PANTALLA -->
                    
                        <div class="col-xs-3 col-sm-1 col-md-3">
                            <button id="botonImprimir" type="button" class="btn btn-primary btn-sm">Cuenta Actual</button> 
                        </div>                        
                    </div>
                    
                    <hr> 
                    
                 <!-- ***************************** -->
                 <div class="row">
                     <div class="col-xs-1 col-sm-1 col-md-1">
                         <span>ID Ins</span>
                     </div>
                     <div class="col-xs-2 col-sm-1 col-md-1">
                         <input id="id_inscripcion" name="id_inscripcion" type="text" class="form-control input-sm"
                                placeholder="nº" onkeypress="return SoloNumeros(event)">
                     </div>
                     
                     <!-- BUSCA LAS INSCRIPCIONES QUE POSEEN CUENTAS -->                     
                     <div class="col-xs-8 col-sm-1 col-md-1">
                         <button id="botonBuscarIdInscripcion" type="button" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-search"></span></button>                            
                     </div>

                     <div class="col-md-2 col-xs-3 col-sm-2">
                         <span>Fecha de ingreso</span>
                     </div>
                     
                     <div class="col-md-2 col-xs-5 col-sm-4">
                         <input readonly="" id="fecha_inscripcion" name="fecha_inscripcion" type="date" class="form-control input-sm ">
                     </div>
                 </div>
                 
                 <br>
                 
                 <div class="row">
                     <div class="col-xs-3 col-sm-2 col-md-1">
                         <span>Nombre</span>
                     </div>
                     <div class="col-xs-8 col-sm-4 col-md-3">
                         <input id="nombre_alumno" name="nombre_alumno" type="text" class="form-control input-sm"
                                placeholder="Nombre" disabled="disabled" onkeyup="this.value = this.value.toUpperCase()">
                     </div>

                     <div class="col-xs-3 col-sm-2 col-md-1">
                         <span>Apellido</span>
                     </div>
                     
                     <div class="col-xs-8 col-sm-4 col-md-3">
                         <input id="apellido_alumno" name="apellido_alumno" type="text" class="form-control input-sm"
                                placeholder="Apellido" disabled="disabled">
                     </div>

                     <div class="col-xs-3 col-sm-2 col-md-1" hidden="">
                         <span>C.I.</span>
                     </div>
                     <div class="col-xs-8 col-sm-4 col-md-3" hidden="">
                         <input id="nroci_alumno" name="nroci_alumno" type="text" class="form-control input-sm"
                                placeholder="c.i.nº" disabled="disabled">
                     </div>
                 </div>                    
                 <hr>                     
                 <div class="row">
                     <div class="col-xs-2 col-sm-1 col-md-1">
                         <span>Curso</span>
                     </div>

                     <div class="col-xs-2 col-sm-2 col-md-1">
                         <input readonly="" id="codigo_convocatoria" name="codigo_convocatoria" type="text" class="form-control input-sm"
                                placeholder="codigo">
                     </div>
                     <div class="col-xs-2 col-sm-2 col-md-1">
                         <span>Nombre</span>
                     </div>
                     <div class="col-sm-2 col-sm-2 col-md-3">
                         <input readonly="" id="nombre_convocatoria" name="nombre_convocatoria" type="text" class="form-control input-sm"
                                placeholder="nombre curso">
                     </div>

                     <div class="col-xs-2 col-sm-1 col-md-1">
                         <span>NºCuotas</span>
                     </div>
                     <div class="col-xs-2 col-sm-2 col-md-1">
                         <input readonly="" id="nro_cuotas" name="nro_cuotas" type="number" min="0" max="12" class="form-control input-sm">
                     </div> 
                     
                      <div class="col-xs-2 col-sm-1 col-md-1">
                         <span>Monto cuota</span>
                     </div>
                     <div class="col-xs-2 col-sm-2 col-md-1">
                         <input readonly="" id="monto_cuota" name="monto_cuota" class="form-control input-sm">
                     </div> 
                     
                   
                 </div>

                    <hr>                       
                    <div class="row">
                        <center>Cobros de cuotas</center>
                    </div>
                    <br>
                 <div class="row">                     
                     <div class="col-xs-2 col-sm-1 col-md-1">
                                <span>Cuota Nº</span>
                     </div>                     
                     <div class="col-md-1">
                         <input id="nro_cuota_pagar" name="nro_cuota_pagar" class="form-control input-sm" 
                                onkeypress="return SoloNumeros(event)">
                     </div>                     
                     <div class="col-xs-2 col-sm-2 col-md-1">
                                <span>Monto a cobrar</span>
                     </div>                     
                     <div class="col-xs-2 col-sm-2 col-md-2">
                         <input id="monto_pagar" name="monto_pagar" class="form-control input-sm"
                                onkeypress="return SoloNumeros(event)">
                     </div>

                     <div class="col-xs-2 col-sm-2 col-md-1">
                         <span>Tipo Pago</span>                         
                     </div>                    
                     <div class="col-md-2">
                        <input id="tipo_pago" name="tipo_pago" type="text" 
                               class="form-control input-sm" list="estado" placeholder="Tipo pago">
                        <datalist id="estado">
                            <option>PENDIENTE</option>
                            <option>CANCELADO</option>                                
                        </datalist>
                    </div> 
                     
                     <div class="col-md-2 col-xs-4 col-sm-2">
                            <button id="botonCobrar_cuota" type="button" class="btn btn-primary btn-sm"><span class="">Cobrar Cuota</span></button>
                     </div>
                 </div>
        </form>
        </div>
        <div class="panel-footer centrado" >
         <!--   <button id="botonAgregar" type="button" class="btn btn-primary btn-sm">Agregar</button> -->
            <!-- <button id="botonModificar" type="button" class="btn btn-primary btn-sm">Modificar</button> -->
            <!-- <button id="BotonEliminar" type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#confirmarEliminar">Eliminar</button> -->
            <button id="botonSalir" type="button" class="btn btn-primary btn-sm">Salir</button>
        </div>
    </div>
    
    <div id="mensajes" class="well well-sm centrado">Mensaje del Sistema.</div>
    
    <div class="modal fade" id="confirmarEliminar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header centrado">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">
                            &times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Mensaje del Sistema</h4>
                </div>
                <div class="modal-footer centrado">
                    <button id="botonEliminarAlert" type="button" class="btn btn-primary btn-sm">Eliminar</button>
                    <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../../../js/jquery.min.js" type="text/javascript"></script>
    <script src="../../../js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../../js/funciones.js" type="text/javascript"></script>
    <script src="js/funciones.js" type="text/javascript"></script>
    
    <script>
        verificarSesion(true);
        $("#buscar").css("display", "none");
       // $("#id_cobro").focus();
       // siguienteCampo("#id_cobro", "#nombre_cobro", false);
       /* $("#id_cobro").focusout(function (event) {
            if ($("#id_cobro").val() === "") {
                $("#id_cobro").val("0");
            }
            buscarIdCobro();
        });
        $("#botonBuscarIdCobro").on('click', function () {
            $("#buscar").load("buscar.html");
            $("#buscar").fadeIn("slow");
            $("#panelPrograma").fadeOut("slow");
        });
    */
      /*  $("#botonAgregar").on('click', function () {
            if (validarFormulario()) {
            agregarCobro();
            }  
        });
        $("#botonModificar").on('click', function () {
            if(validarFormulario()) {
            modificarCobro();
            }   
        });
        $("#botonEliminarAlert").on('click', function () {
            eliminarCobro();
            $('#confirmarEliminar').modal('hide');
        });
    
    */
        $("#botonSalir").on('click', function () {
            location.href = "../../../menu.html";
        });
        
        /*Buscar inscripciones */
        
         $("#id_inscripcion").focusout(function (event) {
         if ($("#id_inscripcion").val() === "") {
            $("#id_inscripcion").val("0");
         }
         buscarIdInscripcion();
        });
                                       
        $("#botonBuscarIdInscripcion").on('click', function () {
            $("#buscar").load("buscarInscripcion.html");
            $("#buscar").fadeIn("fast");
            $("#panelPrograma").fadeOut("fast");
        });
        
        $("#botonCuota").on('click', function () {
        $("#buscar").load("buscarCuotasVencidas.html");
        $("#buscar").fadeIn("fast");
        $("#panelPrograma").fadeOut("fast");
        });
                                       
        $("#botonCobrar_cuota").on('click', function () {
        if (validarPago()) {
            cobrarCuota();
        }  
        });
        
           $("#botonImprimir").on('click', function () {
               if ($("#id_inscripcion").val() === "") {
                   alert("Seleccione una cuenta");
                    $("#id_inscripcion").focus();               
               } else {
                   var l = "cuotasAlumnos";
                   var id_ins = $("#id_inscripcion").val();
                   var nroci=$("#nroci_alumno").val();
                   var jsp = "jsp/cuentaestado.jsp";
                   window.open(jsp + "?l="+l+"&id="+id_ins+"&ci="+nroci);
               }
               });
                                       
                                       
    </script>
</body>

</html>
